\hypertarget{filtragem_8h}{}\section{C\+:/\+Users/\+User/\+Documents/\+Git\+Hub/\+Proxy\+Server/\+Proxy\+Fabre/include/filtragem.h File Reference}
\label{filtragem_8h}\index{C\+:/\+Users/\+User/\+Documents/\+Git\+Hub/\+Proxy\+Server/\+Proxy\+Fabre/include/filtragem.\+h@{C\+:/\+Users/\+User/\+Documents/\+Git\+Hub/\+Proxy\+Server/\+Proxy\+Fabre/include/filtragem.\+h}}


Arquivo com as operacoes de filtragem.  


{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$time.\+h$>$}\newline
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{filtragem_8h_a43d674371233eb7dcf44bf4b36c177e7}{A\+C\+C\+E\+P\+T\+\_\+\+L\+OG}~1
\item 
\#define \hyperlink{filtragem_8h_a289ea23bf16fc431c583b382a5343434}{D\+E\+N\+Y\+\_\+\+E\+R\+RO}~3
\item 
\#define \hyperlink{filtragem_8h_aedc4c004c051625dff3f88c88c4835b5}{E\+R\+R\+O\+\_\+\+L\+OG}~2
\item 
\#define \hyperlink{filtragem_8h_a60fbd4da8ca9aa07bf528d3d9e2f218e}{M\+A\+X\+\_\+\+D\+A\+DO}~6000
\item 
\#define \hyperlink{filtragem_8h_a8b6d77865140befe3a9bc16132d2e696}{M\+A\+X\+\_\+\+S\+TR}~500
\item 
\#define \hyperlink{filtragem_8h_ad61924a4217766df1951ed62780bb388}{N\+O\+T\+\_\+\+F\+I\+L\+T\+E\+R\+ED}~4
\item 
\#define \hyperlink{filtragem_8h_a5990f7f26aac0adcefb90aff9ba5a36d}{S\+I\+Z\+E\+\_\+\+L\+I\+S\+TA}~30
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
F\+I\+LE $\ast$ \hyperlink{filtragem_8h_a7a3ed4140cd077b6bb76b1c082ba195f}{abrindo\+\_\+arquivo} (char $\ast$nome\+\_\+arquivo)
\begin{DoxyCompactList}\small\item\em Funcao para abrir um arquivo.\+txt . \end{DoxyCompactList}\item 
F\+I\+LE $\ast$ \hyperlink{filtragem_8h_abbaef938e5de0dec6558ce27550db5ef}{abrindo\+\_\+log} (char $\ast$nome\+\_\+arquivo)
\begin{DoxyCompactList}\small\item\em Funcao para abrir um arquivo$<$log$>$.\+txt . \end{DoxyCompactList}\item 
int \hyperlink{filtragem_8h_a48737e3af661544d6266cbb9737a4010}{check\+Lists} (char $\ast$nome\+\_\+arquivo, char $\ast$mensagem)
\begin{DoxyCompactList}\small\item\em Funcao que checa se uma mensagem esta em um determinado arquivo. \end{DoxyCompactList}\item 
int \hyperlink{filtragem_8h_a0eeca01b3549b83db7154f60cb7b5d18}{denyterms\+\_\+body} (char $\ast$body, char $\ast$url)
\begin{DoxyCompactList}\small\item\em Funcao que checa se em um corpo tem algum termo proibido. \end{DoxyCompactList}\item 
int \hyperlink{filtragem_8h_a37937ca96633148753592f73840e14bb}{denyterms\+\_\+request} (char $\ast$request)
\begin{DoxyCompactList}\small\item\em Funcao que checa se em uma url tem algum termo proibido. \end{DoxyCompactList}\item 
int \hyperlink{filtragem_8h_a72566b874254ca906f75232f97b53ed4}{filtragem\+\_\+url} (char $\ast$url)
\begin{DoxyCompactList}\small\item\em Funcao que checa se uma url se encontra na whitelist, na blacklist, denyterms ou se nao esta nem um destes arquivos. \end{DoxyCompactList}\item 
int $\ast$ \hyperlink{filtragem_8h_a676789d34a634a45243b7f2abd5d2d1f}{Length\+\_\+denyterms} (void)
\begin{DoxyCompactList}\small\item\em Funcao para guardar a quantidade de elementos e o tamanho de cada elemento do arquivo denyterms.\+txt. \end{DoxyCompactList}\item 
void \hyperlink{filtragem_8h_afb9df7b59d429154fab21346961389c5}{mensagem\+\_\+log} (char $\ast$url, int opcao)
\begin{DoxyCompactList}\small\item\em Funcao para escrever um log -\/ com data, url e se foi aceita ou rejeitada. \end{DoxyCompactList}\item 
void \hyperlink{filtragem_8h_a5963f5fb541653d47a9369b61adfa751}{mensagem\+\_\+log\+\_\+body} (char $\ast$url, char $\ast$dado)
\begin{DoxyCompactList}\small\item\em Funcao para escrever um log -\/ com data, url e se foi rejeitada no corpo. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Arquivo com as operacoes de filtragem. 



\subsection{Macro Definition Documentation}
\mbox{\Hypertarget{filtragem_8h_a43d674371233eb7dcf44bf4b36c177e7}\label{filtragem_8h_a43d674371233eb7dcf44bf4b36c177e7}} 
\index{filtragem.\+h@{filtragem.\+h}!A\+C\+C\+E\+P\+T\+\_\+\+L\+OG@{A\+C\+C\+E\+P\+T\+\_\+\+L\+OG}}
\index{A\+C\+C\+E\+P\+T\+\_\+\+L\+OG@{A\+C\+C\+E\+P\+T\+\_\+\+L\+OG}!filtragem.\+h@{filtragem.\+h}}
\subsubsection{\texorpdfstring{A\+C\+C\+E\+P\+T\+\_\+\+L\+OG}{ACCEPT\_LOG}}
{\footnotesize\ttfamily \#define A\+C\+C\+E\+P\+T\+\_\+\+L\+OG~1}

\mbox{\Hypertarget{filtragem_8h_a289ea23bf16fc431c583b382a5343434}\label{filtragem_8h_a289ea23bf16fc431c583b382a5343434}} 
\index{filtragem.\+h@{filtragem.\+h}!D\+E\+N\+Y\+\_\+\+E\+R\+RO@{D\+E\+N\+Y\+\_\+\+E\+R\+RO}}
\index{D\+E\+N\+Y\+\_\+\+E\+R\+RO@{D\+E\+N\+Y\+\_\+\+E\+R\+RO}!filtragem.\+h@{filtragem.\+h}}
\subsubsection{\texorpdfstring{D\+E\+N\+Y\+\_\+\+E\+R\+RO}{DENY\_ERRO}}
{\footnotesize\ttfamily \#define D\+E\+N\+Y\+\_\+\+E\+R\+RO~3}

\mbox{\Hypertarget{filtragem_8h_aedc4c004c051625dff3f88c88c4835b5}\label{filtragem_8h_aedc4c004c051625dff3f88c88c4835b5}} 
\index{filtragem.\+h@{filtragem.\+h}!E\+R\+R\+O\+\_\+\+L\+OG@{E\+R\+R\+O\+\_\+\+L\+OG}}
\index{E\+R\+R\+O\+\_\+\+L\+OG@{E\+R\+R\+O\+\_\+\+L\+OG}!filtragem.\+h@{filtragem.\+h}}
\subsubsection{\texorpdfstring{E\+R\+R\+O\+\_\+\+L\+OG}{ERRO\_LOG}}
{\footnotesize\ttfamily \#define E\+R\+R\+O\+\_\+\+L\+OG~2}

\mbox{\Hypertarget{filtragem_8h_a60fbd4da8ca9aa07bf528d3d9e2f218e}\label{filtragem_8h_a60fbd4da8ca9aa07bf528d3d9e2f218e}} 
\index{filtragem.\+h@{filtragem.\+h}!M\+A\+X\+\_\+\+D\+A\+DO@{M\+A\+X\+\_\+\+D\+A\+DO}}
\index{M\+A\+X\+\_\+\+D\+A\+DO@{M\+A\+X\+\_\+\+D\+A\+DO}!filtragem.\+h@{filtragem.\+h}}
\subsubsection{\texorpdfstring{M\+A\+X\+\_\+\+D\+A\+DO}{MAX\_DADO}}
{\footnotesize\ttfamily \#define M\+A\+X\+\_\+\+D\+A\+DO~6000}

\mbox{\Hypertarget{filtragem_8h_a8b6d77865140befe3a9bc16132d2e696}\label{filtragem_8h_a8b6d77865140befe3a9bc16132d2e696}} 
\index{filtragem.\+h@{filtragem.\+h}!M\+A\+X\+\_\+\+S\+TR@{M\+A\+X\+\_\+\+S\+TR}}
\index{M\+A\+X\+\_\+\+S\+TR@{M\+A\+X\+\_\+\+S\+TR}!filtragem.\+h@{filtragem.\+h}}
\subsubsection{\texorpdfstring{M\+A\+X\+\_\+\+S\+TR}{MAX\_STR}}
{\footnotesize\ttfamily \#define M\+A\+X\+\_\+\+S\+TR~500}

\mbox{\Hypertarget{filtragem_8h_ad61924a4217766df1951ed62780bb388}\label{filtragem_8h_ad61924a4217766df1951ed62780bb388}} 
\index{filtragem.\+h@{filtragem.\+h}!N\+O\+T\+\_\+\+F\+I\+L\+T\+E\+R\+ED@{N\+O\+T\+\_\+\+F\+I\+L\+T\+E\+R\+ED}}
\index{N\+O\+T\+\_\+\+F\+I\+L\+T\+E\+R\+ED@{N\+O\+T\+\_\+\+F\+I\+L\+T\+E\+R\+ED}!filtragem.\+h@{filtragem.\+h}}
\subsubsection{\texorpdfstring{N\+O\+T\+\_\+\+F\+I\+L\+T\+E\+R\+ED}{NOT\_FILTERED}}
{\footnotesize\ttfamily \#define N\+O\+T\+\_\+\+F\+I\+L\+T\+E\+R\+ED~4}

\mbox{\Hypertarget{filtragem_8h_a5990f7f26aac0adcefb90aff9ba5a36d}\label{filtragem_8h_a5990f7f26aac0adcefb90aff9ba5a36d}} 
\index{filtragem.\+h@{filtragem.\+h}!S\+I\+Z\+E\+\_\+\+L\+I\+S\+TA@{S\+I\+Z\+E\+\_\+\+L\+I\+S\+TA}}
\index{S\+I\+Z\+E\+\_\+\+L\+I\+S\+TA@{S\+I\+Z\+E\+\_\+\+L\+I\+S\+TA}!filtragem.\+h@{filtragem.\+h}}
\subsubsection{\texorpdfstring{S\+I\+Z\+E\+\_\+\+L\+I\+S\+TA}{SIZE\_LISTA}}
{\footnotesize\ttfamily \#define S\+I\+Z\+E\+\_\+\+L\+I\+S\+TA~30}



\subsection{Function Documentation}
\mbox{\Hypertarget{filtragem_8h_a7a3ed4140cd077b6bb76b1c082ba195f}\label{filtragem_8h_a7a3ed4140cd077b6bb76b1c082ba195f}} 
\index{filtragem.\+h@{filtragem.\+h}!abrindo\+\_\+arquivo@{abrindo\+\_\+arquivo}}
\index{abrindo\+\_\+arquivo@{abrindo\+\_\+arquivo}!filtragem.\+h@{filtragem.\+h}}
\subsubsection{\texorpdfstring{abrindo\+\_\+arquivo()}{abrindo\_arquivo()}}
{\footnotesize\ttfamily F\+I\+LE $\ast$ abrindo\+\_\+arquivo (\begin{DoxyParamCaption}\item[{char $\ast$}]{nome\+\_\+arquivo }\end{DoxyParamCaption})}



Funcao para abrir um arquivo.\+txt . 


\begin{DoxyParams}{Parameters}
{\em nome\+\_\+arquivo} & corresponde ao nome do arquivo que tera que ser lido. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Ponteiro para F\+I\+L\+E$\ast$ ja aberto. 
\end{DoxyReturn}
\mbox{\Hypertarget{filtragem_8h_abbaef938e5de0dec6558ce27550db5ef}\label{filtragem_8h_abbaef938e5de0dec6558ce27550db5ef}} 
\index{filtragem.\+h@{filtragem.\+h}!abrindo\+\_\+log@{abrindo\+\_\+log}}
\index{abrindo\+\_\+log@{abrindo\+\_\+log}!filtragem.\+h@{filtragem.\+h}}
\subsubsection{\texorpdfstring{abrindo\+\_\+log()}{abrindo\_log()}}
{\footnotesize\ttfamily F\+I\+LE $\ast$ abrindo\+\_\+log (\begin{DoxyParamCaption}\item[{char $\ast$}]{nome\+\_\+arquivo }\end{DoxyParamCaption})}



Funcao para abrir um arquivo$<$log$>$.\+txt . 


\begin{DoxyParams}{Parameters}
{\em nome\+\_\+arquivo} & corresponde ao nome do arquivo que tera que ser lido. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Ponteiro para F\+I\+L\+E$\ast$ ja aberto. 
\end{DoxyReturn}
\mbox{\Hypertarget{filtragem_8h_a48737e3af661544d6266cbb9737a4010}\label{filtragem_8h_a48737e3af661544d6266cbb9737a4010}} 
\index{filtragem.\+h@{filtragem.\+h}!check\+Lists@{check\+Lists}}
\index{check\+Lists@{check\+Lists}!filtragem.\+h@{filtragem.\+h}}
\subsubsection{\texorpdfstring{check\+Lists()}{checkLists()}}
{\footnotesize\ttfamily int check\+Lists (\begin{DoxyParamCaption}\item[{char $\ast$}]{nome\+\_\+arquivo,  }\item[{char $\ast$}]{mensagem }\end{DoxyParamCaption})}



Funcao que checa se uma mensagem esta em um determinado arquivo. 


\begin{DoxyParams}{Parameters}
{\em nome\+\_\+arquivo} & corresponde ao nome do arquivo sera lido. \\
\hline
{\em mensagem} & que sera procurada no arquivo. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 se for encontrado, zero se nao for encontrado. 
\end{DoxyReturn}
\mbox{\Hypertarget{filtragem_8h_a0eeca01b3549b83db7154f60cb7b5d18}\label{filtragem_8h_a0eeca01b3549b83db7154f60cb7b5d18}} 
\index{filtragem.\+h@{filtragem.\+h}!denyterms\+\_\+body@{denyterms\+\_\+body}}
\index{denyterms\+\_\+body@{denyterms\+\_\+body}!filtragem.\+h@{filtragem.\+h}}
\subsubsection{\texorpdfstring{denyterms\+\_\+body()}{denyterms\_body()}}
{\footnotesize\ttfamily int denyterms\+\_\+body (\begin{DoxyParamCaption}\item[{char $\ast$}]{body,  }\item[{char $\ast$}]{url }\end{DoxyParamCaption})}



Funcao que checa se em um corpo tem algum termo proibido. 


\begin{DoxyParams}{Parameters}
{\em body} & corpo que sera verificado. \\
\hline
{\em url} & que eh passada para funcao de L\+OG caso tenha termos proibidos. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 se for encontrado no denyterms.\+txt, caso contrario 0. 
\end{DoxyReturn}
\mbox{\Hypertarget{filtragem_8h_a37937ca96633148753592f73840e14bb}\label{filtragem_8h_a37937ca96633148753592f73840e14bb}} 
\index{filtragem.\+h@{filtragem.\+h}!denyterms\+\_\+request@{denyterms\+\_\+request}}
\index{denyterms\+\_\+request@{denyterms\+\_\+request}!filtragem.\+h@{filtragem.\+h}}
\subsubsection{\texorpdfstring{denyterms\+\_\+request()}{denyterms\_request()}}
{\footnotesize\ttfamily int denyterms\+\_\+request (\begin{DoxyParamCaption}\item[{char $\ast$}]{request }\end{DoxyParamCaption})}



Funcao que checa se em uma url tem algum termo proibido. 


\begin{DoxyParams}{Parameters}
{\em request} & eh a url que sera verificada. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 se for encontrado no denyterms.\+txt, caso contrario 0. 
\end{DoxyReturn}
\mbox{\Hypertarget{filtragem_8h_a72566b874254ca906f75232f97b53ed4}\label{filtragem_8h_a72566b874254ca906f75232f97b53ed4}} 
\index{filtragem.\+h@{filtragem.\+h}!filtragem\+\_\+url@{filtragem\+\_\+url}}
\index{filtragem\+\_\+url@{filtragem\+\_\+url}!filtragem.\+h@{filtragem.\+h}}
\subsubsection{\texorpdfstring{filtragem\+\_\+url()}{filtragem\_url()}}
{\footnotesize\ttfamily int filtragem\+\_\+url (\begin{DoxyParamCaption}\item[{char $\ast$}]{url }\end{DoxyParamCaption})}



Funcao que checa se uma url se encontra na whitelist, na blacklist, denyterms ou se nao esta nem um destes arquivos. 


\begin{DoxyParams}{Parameters}
{\em url} & eh a url que sera filtrada. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 se for encontrado no denyterms.\+txt ou blacklist.\+txt, caso contrario 0. 
\end{DoxyReturn}
\mbox{\Hypertarget{filtragem_8h_a676789d34a634a45243b7f2abd5d2d1f}\label{filtragem_8h_a676789d34a634a45243b7f2abd5d2d1f}} 
\index{filtragem.\+h@{filtragem.\+h}!Length\+\_\+denyterms@{Length\+\_\+denyterms}}
\index{Length\+\_\+denyterms@{Length\+\_\+denyterms}!filtragem.\+h@{filtragem.\+h}}
\subsubsection{\texorpdfstring{Length\+\_\+denyterms()}{Length\_denyterms()}}
{\footnotesize\ttfamily int $\ast$ Length\+\_\+denyterms (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Funcao para guardar a quantidade de elementos e o tamanho de cada elemento do arquivo denyterms.\+txt. 

\begin{DoxyReturn}{Returns}
Ponteiro para F\+I\+L\+E$\ast$ ja aberto. 
\end{DoxyReturn}
\mbox{\Hypertarget{filtragem_8h_afb9df7b59d429154fab21346961389c5}\label{filtragem_8h_afb9df7b59d429154fab21346961389c5}} 
\index{filtragem.\+h@{filtragem.\+h}!mensagem\+\_\+log@{mensagem\+\_\+log}}
\index{mensagem\+\_\+log@{mensagem\+\_\+log}!filtragem.\+h@{filtragem.\+h}}
\subsubsection{\texorpdfstring{mensagem\+\_\+log()}{mensagem\_log()}}
{\footnotesize\ttfamily void mensagem\+\_\+log (\begin{DoxyParamCaption}\item[{char $\ast$}]{url,  }\item[{int}]{opcao }\end{DoxyParamCaption})}



Funcao para escrever um log -\/ com data, url e se foi aceita ou rejeitada. 


\begin{DoxyParams}{Parameters}
{\em url} & que sera colocada no log. \\
\hline
{\em opcao} & indica se eh do modo aceito $<$whitelist ou=\char`\"{}\char`\"{} nao=\char`\"{}\char`\"{} proibido$>$=\char`\"{}\char`\"{}$>$ ou rejeitado $<$blacklist, denyterms$>$. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{filtragem_8h_a5963f5fb541653d47a9369b61adfa751}\label{filtragem_8h_a5963f5fb541653d47a9369b61adfa751}} 
\index{filtragem.\+h@{filtragem.\+h}!mensagem\+\_\+log\+\_\+body@{mensagem\+\_\+log\+\_\+body}}
\index{mensagem\+\_\+log\+\_\+body@{mensagem\+\_\+log\+\_\+body}!filtragem.\+h@{filtragem.\+h}}
\subsubsection{\texorpdfstring{mensagem\+\_\+log\+\_\+body()}{mensagem\_log\_body()}}
{\footnotesize\ttfamily void mensagem\+\_\+log\+\_\+body (\begin{DoxyParamCaption}\item[{char $\ast$}]{url,  }\item[{char $\ast$}]{dado }\end{DoxyParamCaption})}



Funcao para escrever um log -\/ com data, url e se foi rejeitada no corpo. 


\begin{DoxyParams}{Parameters}
{\em url} & que sera colocada no log. \\
\hline
{\em dado} & string que foi responsavel por ser rejeitada. \\
\hline
\end{DoxyParams}
